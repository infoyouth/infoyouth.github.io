<!-- Affiliate Link Shortcode -->
<!-- Usage: {% include affiliate-link.html url="..." text="..." source="amazon" %} -->

{% if site.monetization.affiliate_disclosure %}
<a href="{{ include.url }}" 
   class="affiliate-link {{ include.source }}"
   target="_blank" 
   rel="nofollow noopener sponsored"
   {% if include.source == 'amazon' and site.monetization.amazon_tag %}
   data-amazon-tag="{{ site.monetization.amazon_tag }}"
   {% endif %}>
  {{ include.text | default: "Check it out" }}
  <i class="fas fa-external-link-alt" style="font-size: 0.8em; margin-left: 0.2em;"></i>
</a>
{% else %}
<a href="{{ include.url }}" target="_blank" rel="noopener">{{ include.text | default: "Check it out" }}</a>
{% endif %}

<style>
.affiliate-link {
  text-decoration: none;
  border-bottom: 1px dashed;
  transition: all 0.3s ease;
}
.affiliate-link:hover {
  border-bottom-style: solid;
}
.affiliate-link.amazon { color: #ff9900; }
.affiliate-link.udemy { color: #ec5252; }
</style>
