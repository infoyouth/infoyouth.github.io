---
layout: page
# The Archives of posts.
---

<!-- Archives Custom Styles -->
<link rel="stylesheet" href="{{ '/assets/css/archives.css' | relative_url }}">

<!-- Alpine.js with Collapse Plugin -->
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

{% assign current_year = "now" | date: "%Y" | plus: 0 %}
{% assign current_month = "now" | date: "%m" | plus: 0 %}
{% assign current_month_name = "now" | date: "%B" %}

<div id="archives" x-data="archivesData()">
  <!-- Archives Stats -->
  <div class="archives-header">
    <div class="archives-stats">
      <i class="fas fa-archive"></i>
      <span x-text="`${totalPosts} posts across ${openYears.length > 0 ? Object.keys(yearCounts).length : 0} years`"></span>
    </div>
  </div>

  <!-- Timeline Container -->
  <div class="timeline-container">
    {% assign posts_by_year = site.posts | group_by_exp: "post", "post.date | date: '%Y'" %}
    
    {% for year in posts_by_year %}
      {% assign year_num = year.name | plus: 0 %}
      {% assign is_current_year = false %}
      {% if year_num == current_year %}
        {% assign is_current_year = true %}
      {% endif %}
      
      {% assign posts_by_month = year.items | group_by_exp: "post", "post.date | date: '%B'" %}
      
      <div class="year-block" 
           x-transition:enter="transition ease-out duration-300"
           x-transition:enter-start="opacity-0 transform scale-95"
           x-transition:enter-end="opacity-100 transform scale-100">
        
        <!-- Year Header -->
        <div class="year-header gradient-year-{{ year.name | slice: -1 }}" 
             @click="toggleYear('{{ year.name }}')"
             :class="{ 'active': openYears.includes('{{ year.name }}') }">
          <div class="year-title">
            <i class="fas" :class="openYears.includes('{{ year.name }}') ? 'fa-chevron-down' : 'fa-chevron-right'"></i>
            <span class="year-number">{{ year.name }}</span>
            <span class="year-badge">{{ year.items | size }} posts</span>
          </div>
          {% if is_current_year %}
          <span class="current-badge">Current</span>
          {% endif %}
        </div>

        <!-- Months Container -->
        <div class="months-container" 
             x-show="openYears.includes('{{ year.name }}')"
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 max-h-0"
             x-transition:enter-end="opacity-100 max-h-screen"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 max-h-screen"
             x-transition:leave-end="opacity-0 max-h-0"
             style="overflow: hidden;">
          
          {% for month in posts_by_month %}
            {% assign month_posts = month.items %}
            {% assign month_num = month.items.first.date | date: "%m" | plus: 0 %}
            {% assign is_current_month = false %}
            {% if is_current_year and month_num == current_month %}
              {% assign is_current_month = true %}
            {% endif %}
            
            <div class="month-block"
                 x-transition:enter="transition ease-out duration-200"
                 x-transition:enter-start="opacity-0 transform -translate-y-2"
                 x-transition:enter-end="opacity-100 transform translate-y-0">
              
              <!-- Month Header -->
              <div class="month-header" 
                   @click="toggleMonth('{{ year.name }}-{{ month.name }}')"
                   :class="{ 'active': openMonths.includes('{{ year.name }}-{{ month.name }}') }">
                <div class="month-title">
                  <i class="fas" :class="openMonths.includes('{{ year.name }}-{{ month.name }}') ? 'fa-chevron-down' : 'fa-chevron-right'"></i>
                  <span class="month-name">{{ month.name }}</span>
                  <span class="month-badge">{{ month_posts | size }}</span>
                </div>
                {% if is_current_month %}
                <span class="current-month-badge">This Month</span>
                {% endif %}
              </div>

              <!-- Posts List -->
              <div class="posts-list" 
                   x-show="openMonths.includes('{{ year.name }}-{{ month.name }}')"
                   x-transition:enter="transition ease-out duration-200"
                   x-transition:enter-start="opacity-0 max-h-0"
                   x-transition:enter-end="opacity-100 max-h-screen"
                   x-transition:leave="transition ease-in duration-150"
                   x-transition:leave-start="opacity-100 max-h-screen"
                   x-transition:leave-end="opacity-0 max-h-0"
                   style="overflow: hidden;">
                {% for post in month_posts %}
                  <a href="{{ post.url | relative_url }}" 
                     class="post-item"
                     x-transition:enter="transition ease-out duration-150"
                     x-transition:enter-start="opacity-0 transform translate-x-4"
                     x-transition:enter-end="opacity-100 transform translate-x-0">
                    <div class="post-date">
                      <span class="day">{{ post.date | date: "%d" }}</span>
                    </div>
                    <div class="post-content">
                      <h4 class="post-title">{{ post.title }}</h4>
                      {% if post.categories.size > 0 %}
                      <div class="post-categories">
                        {% for category in post.categories limit:2 %}
                          {% unless category == "Programming" %}
                            <span class="category-tag">{{ category }}</span>
                          {% endunless %}
                        {% endfor %}
                      </div>
                      {% endif %}
                    </div>
                    <i class="fas fa-arrow-right post-arrow"></i>
                  </a>
                {% endfor %}
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- Alpine.js Logic -->
<script>
document.addEventListener('alpine:init', () => {
  Alpine.data('archivesData', () => ({
    openYears: ['{{ current_year }}'], // Only current year open by default
    openMonths: ['{{ current_year }}-{{ current_month_name }}'], // Only current month open by default
    totalPosts: {{ site.posts | size }},
    yearCounts: {},
    
    toggleYear(year) {
      if (this.openYears.includes(year)) {
        this.openYears = this.openYears.filter(y => y !== year);
      } else {
        this.openYears.push(year);
      }
    },
    
    toggleMonth(monthId) {
      if (this.openMonths.includes(monthId)) {
        this.openMonths = this.openMonths.filter(m => m !== monthId);
      } else {
        this.openMonths.push(monthId);
      }
    }
  }))
})
</script>
